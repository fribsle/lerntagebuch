---
title: "Metadaten modellieren und Schnittstellen nutzen - Teil 2"
date: 2021-12-03
---
In der heutigen Vorlesung behandeln wir den zweiten Teil vom Themenblock Modellierung von Metadaten. In erster Linie das Tool OpenRefine, welches Tabellendaten ins MARC21 Datenformat bringen kann. Die zwei weiteren Blöcke zu zusätzlichen Tools zur Metadatenbereinigung und der Nutzung zu JSON-API werden wir je nach Zeitplan behandeln. 

OpenRefine ist eine Open Source Anwendung mit einer grafischen Oberfläche analog einer Tabellenverarbeitungssoftware. Ist normalerweise lokal auf dem Computer installiert und wird aber über den Browser bedient. Die Anwendung wird gemäss Umfragen vor allem für die Bereinigung von Daten verwendet. Aber auch die Exploration von Datenlieferungen oder der Abgleich von Normdaten in Wikidata oder GND. Es lassen sich die gängigen Formate wie xls., xlsx., aber auch txt. oder csv. bearbeiten. OpenRefine existiert bereits seit 2009. 

Nun installieren wir gemeinsam OpenRefine, was einwandfrei klappt. Die virtuelle Maschine lässt sich jedoch nicht bei allen in die Gänge bringen. Dies hält Felix Lohmeier nicht auf und wir steigen sogleich mit der ersten Übung. Wir laden Beispieldaten in OpenRefine. Felix Lohmeier empfiehlt, nicht allzu viele Einstellungen/Vorgaben vor dem Import zu machen, sondern erst danach. Wir werden nun nach dem Import mit Facetten arbeiten. Wir wählen unter Language die Funktion Facet und Text Facet auf und sehen dann in der linken Spalte alle Textvarianten in der Spalte Sprache. Wir bereinigen nun unterschiedliche Facetten zu einheitlichen Codes. Danach behandeln wir mehrere Einträge in Feldern, wie am Beispiel der Spalte Autoren ersichtlich ist. Wir bearbeiten nun die Zelle und teilen Einträge mit mehreren Werten in einzelne Zellen und erhalten ca. 3'000 Reihen mehr. Mit der Funktion Cluster lassen sich ähnliche Inhalte anzeigen, damit man diese abgleichen kann. Möglich ist danach natürlich auch die rückwirkende Variante, die Vereinigung der gesplitteten Inhalte.

Mit ein paar Fingerübungen machen wir erste Klicks in OpenRefine. Zudem zeigt uns Felix Lohmeier die Funktion Reconciliation. So können Daten z.b. aus Wikidata zu den eigenen Daten zugeordnet werden. Wir bearbeiten die Spalte Citation mit «Add column based on this column» um den Zeitschriftentitel in eine separate Spalte zu bringen. Es wird der neue Spaltentitel ergänzt und mit value.split(«,») und mit dem Befehl zu Abtrennung der Inhalte vor dem ersten Komma in eine neue Spalte. Nun können wir die Funktion « Reconcile» nutzen, dies mit Wikidata. Wir ziehen noch die ISSN zum Vergleich heran und starten die Reconsiliation. Der grösste Teil wird gematcht. 

Als Hauptteil zeigt uns Felix Lohmeier wie man csv. Daten in ein MARCXML Dateiformat bringt. Wir erstellen nun ein Template für den Export in OpenRefine. Hier werden etwas Programmierkenntnisse benötigt. Als Aufgabe versuchen wir im Reverse Engineering herauszufinden, was die Befehle bedeuten. Slice bedeutet weglöschen, mit split wird geteilt und durch replace werden Daten mit anderen Daten ersetzt. Nach dem Export wird in der Virtuellen Maschine die Validierung vorgenommen. Im Ordner Downloads finden sich dann die Daten in txt (Anpassung zu .xml!). Diese validieren wird dann mit xmllint, welches in Ubuntu vorinstalliert ist. 
